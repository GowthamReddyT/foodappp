{% extends "base.html" %}
{% block content %}

<style>
  body{ background:#f5f7fa; }

  .order-wrap{ max-width:900px; margin:50px auto; padding:0 16px; }

  .order-card{
    background:#fff;
    border-radius:18px;
    padding:30px;
    box-shadow:0 10px 30px rgba(0,0,0,0.06);
  }

  .success{
    display:flex;
    align-items:center;
    gap:10px;
    font-size:24px;
    font-weight:900;
    color:#198754;
    margin-bottom:6px;
  }

  .sub-text{
    color:#6c757d;
    font-size:14px;
    margin-bottom:22px;
  }

  .divider{
    height:1px;
    background:#e9ecef;
    margin:26px 0;
  }

  .info{
    display:grid;
    grid-template-columns:repeat(2, 1fr);
    gap:18px;
  }

  .info div{
    background:#f8f9fa;
    padding:14px 16px;
    border-radius:10px;
    font-size:15px;
  }

  .info b{
    display:block;
    font-size:12px;
    color:#6c757d;
    margin-bottom:4px;
  }

  @media(max-width:600px){
    .info{ grid-template-columns:1fr; }
  }

  table{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    margin-top:10px;
  }

  th{
    background:#f1f3f5;
    font-weight:800;
    font-size:14px;
  }

  th,td{
    padding:14px;
    text-align:center;
    border-bottom:1px solid #e9ecef;
  }

  tr:last-child td{ border-bottom:none; }

  .total{
    text-align:right;
    font-size:22px;
    font-weight:900;
    margin-top:22px;
  }

  .actions{
    margin-top:30px;
    display:flex;
    justify-content:flex-end;
    gap:14px;
    flex-wrap:wrap;
  }

  .btn-green{
    background:#198754;
    color:#fff;
    border:none;
    padding:12px 22px;
    border-radius:10px;
    font-weight:800;
    text-decoration:none;
  }

  .btn-green:hover{ background:#157347; }

  .btn-outline{
    background:#fff;
    color:#212529;
    border:2px solid #dee2e6;
    padding:12px 22px;
    border-radius:10px;
    font-weight:800;
    text-decoration:none;
  }

  .btn-outline:hover{ background:#f8f9fa; }
</style>

<div class="order-wrap">
  <div class="order-card">

    <!-- HEADER -->
    <div class="success">
      <i class="bi bi-clipboard-check"></i>
      Order Review
    </div>

    <p class="sub-text">
      <i class="bi bi-info-circle"></i>
      Please review your order details before proceeding to payment.
    </p>

    <div class="divider"></div>

    <!-- ORDER INFO -->
    <div class="info">
      <div>
        <b><i class="bi bi-hash"></i> Order ID</b>
        {{ order.order_id }}
      </div>

      <div>
        <b><i class="bi bi-calendar-event"></i> Order Date</b>
        {{ order.created_at|date:"d M Y, h:i A" }}
      </div>

      <div>
        <b><i class="bi bi-person"></i> Customer</b>
        {{ order.user.username }}
      </div>

      <div>
        <b><i class="bi bi-geo-alt"></i> Delivery Address</b>
        {{ address }}
      </div>
    </div>

    <div class="divider"></div>

    <!-- ITEMS -->
    <table>
      <tr>
        <th><i class="bi bi-egg-fried"></i> Food Item</th>
        <th><i class="bi bi-123"></i> Qty</th>
        <th><i class="bi bi-currency-rupee"></i> Price</th>
      </tr>

      {% for item in order.items.all %}
      <tr>
        <td>{{ item.food.name }}</td>
        <td>{{ item.quantity }}</td>
        <td>₹ {{ item.price }}</td>
      </tr>
      {% endfor %}
    </table>

    <div class="total">
      <i class="bi bi-wallet2"></i>
      Grand Total: ₹ {{ order.total_amount }}
    </div>

    <!-- ACTIONS -->
    <div class="actions">
      <a href="{% url 'foodsapp:cart' %}" class="btn-outline">
        <i class="bi bi-arrow-left-circle"></i>
        Back to Cart
      </a>

      <a href="{% url 'foodsapp:payment' %}" class="btn-green">
        <i class="bi bi-credit-card"></i>
        Proceed to Payment
      </a>
    </div>

  </div>
</div>

{% endblock %}